(function(e){function t(t){for(var c,r,u=t[0],i=t[1],s=t[2],l=0,d=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(c=!1)}c&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},r={app:0},a={app:0},o=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-256a6d90":"e6e2153e","chunk-268b242a":"5fe1bc42","chunk-2d0cc046":"7a3bc169","chunk-2d0df46a":"36268071","chunk-89cd4b94":"08cfb23c","chunk-8edfac52":"bbf0c188","chunk-b42aa222":"1643298f","chunk-3933b816":"2321401c","chunk-7d698648":"134cbee3","chunk-cc64965c":"1c8ce9db"}[e]+".js"}function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-89cd4b94":1,"chunk-3933b816":1,"chunk-7d698648":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-256a6d90":"31d6cfe0","chunk-268b242a":"31d6cfe0","chunk-2d0cc046":"31d6cfe0","chunk-2d0df46a":"31d6cfe0","chunk-89cd4b94":"378583e7","chunk-8edfac52":"31d6cfe0","chunk-b42aa222":"31d6cfe0","chunk-3933b816":"db3e832b","chunk-7d698648":"6beaeb8b","chunk-cc64965c":"31d6cfe0"}[e]+".css",a=i.p+c,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===c||l===a))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===c||l===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var c=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete r[e],p.parentNode.removeChild(p),n(o)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var c=a[e];if(0!==c)if(c)t.push(c[2]);else{var o=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4e09":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function r(e,t){var n=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createBlock"])(n)}n("b300");var a=n("6b0d"),o=n.n(a);const u={},i=o()(u,[["render",r]]);var s=i,l=n("7bb1"),d=n("3aa8"),p=n("cbdf"),f=n("9457"),h=n("9062"),b=n.n(h),m=(n("e40d"),n("b0c0"),{"aria-label":"Page navigation example"}),g={class:"pagination justify-content-center"},k=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),v=[k],j=["onClick"],O=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),y=[O];function C(e,t,n,r,a,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",m,[Object(c["createElementVNode"])("ul",g,[Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!n.pages.has_pre}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"javascript:;","aria-label":"Previous",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(t){return e.$emit("change-page",n.pages.current_page-1)}),["prevent"]))},v)],2),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(n.pages.total_pages,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:Object(c["normalizeClass"])(["page-item",{active:t===n.pages.current_page}]),key:t+"page"},[Object(c["createElementVNode"])("a",{class:"page-link",href:"javascript:;",onClick:function(n){return e.$emit("change-page",t)}},Object(c["toDisplayString"])(t),9,j)],2)})),128)),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!n.pages.has_next}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"javascript:;","aria-label":"Next",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(t){return e.$emit("change-page",n.pages.current_page+1)}),["prevent"]))},y)],2)])])}var E={name:"UiPagination",props:{pages:{type:Object,default:function(){return{}}}}};const _=o()(E,[["render",C]]);var w=_,P={install:function(e){e.component(w.name,w)}},T=n("a18c"),A=n("5502"),S=(n("d3b7"),n("b775")),N="sheep-api",x=function(){return Object(S["a"])("/api/".concat(N,"/cart"),"get")},B=function(e,t){return Object(S["a"])("/api/".concat(N,"/cart"),"post",{data:{product_id:e,qty:t}})},R=function(e){return Object(S["a"])("/api/".concat(N,"/cart/").concat(e),"delete")},L=function(){return Object(S["a"])("/api/".concat(N,"/carts"),"delete")},$=function(e){var t=e.prodcutId,n=e.count;return Object(S["a"])("/api/".concat(N,"/cart/").concat(t),"put",{data:{product_id:t,qty:n}})},V={namespaced:!0,state:function(){return{cartData:{carts:[],final_total:0,total:0}}},mutations:{SET_CART:function(e,t){e.cartData=t}},actions:{addToCart:function(e,t){return new Promise((function(n,c){B(t.id,t.count).then((function(){return x()})).then((function(t){e.commit("SET_CART",t.data),n()}))}))},findCart:function(e){return new Promise((function(t,n){x().then((function(n){e.commit("SET_CART",n.data),t()}))}))},removeCart:function(e,t){return new Promise((function(n,c){R(t).then((function(){return x()})).then((function(t){e.commit("SET_CART",t.data),n()}))}))},clearAllCarts:function(e){return new Promise((function(t,n){L().then((function(){return x()})).then((function(n){e.commit("SET_CART",n.data),t()}))}))},updateCart:function(e,t){return new Promise((function(n,c){$(t).then((function(){return x()})).then((function(t){e.commit("SET_CART",t.data),n()}))}))}}},M=Object(A["a"])({modules:{cart:V}});Object(l["e"])("required",d["b"]),Object(l["e"])("email",d["a"]),Object(l["d"])({generateMessage:Object(p["a"])({zh_TW:f})}),Object(p["b"])("zh_TW"),Object(c["createApp"])(s).use(M).use(T["a"]).use(P).component("Loading",b.a).mount("#app")},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("5319"),n("2ca0");var c=n("6c02"),r=function(){return n.e("chunk-2d0df46a").then(n.bind(null,"88e9"))},a=function(){return n.e("chunk-2d0cc046").then(n.bind(null,"4bac"))},o=function(){return n.e("chunk-256a6d90").then(n.bind(null,"5a8c"))},u=function(){return n.e("chunk-cc64965c").then(n.bind(null,"7df9"))},i=function(){return Promise.all([n.e("chunk-b42aa222"),n.e("chunk-3933b816")]).then(n.bind(null,"6965"))},s=function(){return Promise.all([n.e("chunk-b42aa222"),n.e("chunk-7d698648")]).then(n.bind(null,"2217"))},l=function(){return n.e("chunk-8edfac52").then(n.bind(null,"cd59"))},d=function(){return n.e("chunk-89cd4b94").then(n.bind(null,"15f4"))},p=function(){return n.e("chunk-268b242a").then(n.bind(null,"c725"))},f=[{path:"/",component:r,children:[{path:"/",component:a},{path:"/products",component:o},{path:"/product/:id",component:u},{path:"/cart",component:i}]},{path:"/login",component:s},{path:"/admin",component:l,redirect:"/admin/products",children:[{path:"products",component:d},{path:"orders",component:p}]}],h=Object(c["a"])({history:Object(c["b"])(),routes:f,linkActiveClass:"active",scrollBehavior:function(){return{left:0,top:0}}});h.beforeEach((function(e,t,n){var c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(!c&&e.path.startsWith("/admin"))return n("/login?redirectUrl="+encodeURIComponent(e.fullPath));n()})),t["a"]=h},b300:function(e,t,n){"use strict";n("4e09")},b775:function(e,t,n){"use strict";var c=n("ade3"),r=(n("ac1f"),n("5319"),n("d3b7"),n("bc3a")),a=n.n(r),o=n("a18c"),u="https://vue3-course-api.hexschool.io/v2",i=a.a.create({baseURL:u,timeout:5e3});i.interceptors.request.use((function(e){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");return t&&(e.headers.Authorization=t),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response&&401===e.response.status){alert(e.response.data.message);var t=encodeURIComponent(o["a"].currentRoute.value.fullPath);o["a"].push("/login?redirectUrl="+t)}return Promise.reject(e)})),t["a"]=function(e,t,n){return i(Object(c["a"])({url:e,method:t},"get"===t.toLowerCase()?"params":"data",n))}}});
//# sourceMappingURL=app.d52e08fd.js.map