(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59c5c8d8"],{1075:function(e,t,n){"use strict";n("4afd")},"159b":function(e,t,n){var r=n("da84"),c=n("fdbc"),a=n("785a"),o=n("17c2"),i=n("9112"),s=function(e){if(e&&e.forEach!==o)try{i(e,"forEach",o)}catch(t){e.forEach=o}};for(var l in c)c[l]&&s(r[l]&&r[l].prototype);s(a)},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,c=n("a640"),a=c("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"4afd":function(e,t,n){},"4de4":function(e,t,n){"use strict";var r=n("23e7"),c=n("b727").filter,a=n("1dde"),o=a("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"5a0c":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",c="second",a="minute",o="hour",i="day",s="week",l="month",u="quarter",d="year",f="date",b="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},j=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:j,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),c=n%60;return(t<=0?"+":"-")+j(r,2,"0")+":"+j(c,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),c=t.clone().add(r,l),a=n-c<0,o=t.clone().add(r+(a?-1:1),l);return+(-(r+(n-c)/(a?c-o:o-c))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:s,d:i,D:f,h:o,m:a,s:c,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},h="en",g={};g[h]=O;var y=function(e){return e instanceof N},E=function(e,t,n){var r;if(!e)return h;if("string"==typeof e)g[e]&&(r=e),t&&(g[e]=t,r=e);else{var c=e.name;g[c]=e,r=c}return!n&&r&&(h=r),r||!n&&h},k=function(e,t){if(y(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new N(n)},V=v;V.l=E,V.i=y,V.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var N=function(){function O(e){this.$L=E(e.locale,null,!0),this.parse(e)}var j=O.prototype;return j.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(V.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var c=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],c,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],c,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},j.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},j.$utils=function(){return V},j.isValid=function(){return!(this.$d.toString()===b)},j.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},j.isAfter=function(e,t){return k(e)<this.startOf(t)},j.isBefore=function(e,t){return this.endOf(t)<k(e)},j.$g=function(e,t,n){return V.u(e)?this[t]:this.set(n,e)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(e,t){var n=this,r=!!V.u(t)||t,u=V.p(e),b=function(e,t){var c=V.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?c:c.endOf(i)},m=function(e,t){return V.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,O=this.$M,j=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case d:return r?b(1,0):b(31,11);case l:return r?b(1,O):b(0,O+1);case s:var h=this.$locale().weekStart||0,g=(p<h?p+7:p)-h;return b(r?j-g:j+(6-g),O);case i:case f:return m(v+"Hours",0);case o:return m(v+"Minutes",1);case a:return m(v+"Seconds",2);case c:return m(v+"Milliseconds",3);default:return this.clone()}},j.endOf=function(e){return this.startOf(e,!1)},j.$set=function(e,t){var n,s=V.p(e),u="set"+(this.$u?"UTC":""),b=(n={},n[i]=u+"Date",n[f]=u+"Date",n[l]=u+"Month",n[d]=u+"FullYear",n[o]=u+"Hours",n[a]=u+"Minutes",n[c]=u+"Seconds",n[r]=u+"Milliseconds",n)[s],m=s===i?this.$D+(t-this.$W):t;if(s===l||s===d){var p=this.clone().set(f,1);p.$d[b](m),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else b&&this.$d[b](m);return this.init(),this},j.set=function(e,t){return this.clone().$set(e,t)},j.get=function(e){return this[V.p(e)]()},j.add=function(r,u){var f,b=this;r=Number(r);var m=V.p(u),p=function(e){var t=k(b);return V.w(t.date(t.date()+Math.round(e*r)),b)};if(m===l)return this.set(l,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===i)return p(1);if(m===s)return p(7);var O=(f={},f[a]=t,f[o]=n,f[c]=e,f)[m]||1,j=this.$d.getTime()+r*O;return V.w(j,this)},j.subtract=function(e,t){return this.add(-1*e,t)},j.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||b;var r=e||"YYYY-MM-DDTHH:mm:ssZ",c=V.z(this),a=this.$H,o=this.$m,i=this.$M,s=n.weekdays,l=n.months,u=function(e,n,c,a){return e&&(e[n]||e(t,r))||c[n].substr(0,a)},d=function(e){return V.s(a%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:V.s(i+1,2,"0"),MMM:u(n.monthsShort,i,l,3),MMMM:u(l,i),D:this.$D,DD:V.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,s,2),ddd:u(n.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(a),HH:V.s(a,2,"0"),h:d(1),hh:d(2),a:f(a,o,!0),A:f(a,o,!1),m:String(o),mm:V.s(o,2,"0"),s:String(this.$s),ss:V.s(this.$s,2,"0"),SSS:V.s(this.$ms,3,"0"),Z:c};return r.replace(p,(function(e,t){return t||m[e]||c.replace(":","")}))},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(r,f,b){var m,p=V.p(f),O=k(r),j=(O.utcOffset()-this.utcOffset())*t,v=this-O,h=V.m(this,O);return h=(m={},m[d]=h/12,m[l]=h,m[u]=h/3,m[s]=(v-j)/6048e5,m[i]=(v-j)/864e5,m[o]=v/n,m[a]=v/t,m[c]=v/e,m)[p]||v,b?h:V.a(h)},j.daysInMonth=function(){return this.endOf(l).$D},j.$locale=function(){return g[this.$L]},j.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=E(e,t,!0);return r&&(n.$L=r),n},j.clone=function(){return V.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},O}(),x=N.prototype;return k.prototype=x,[["$ms",r],["$s",c],["$m",a],["$H",o],["$W",i],["$M",l],["$y",d],["$D",f]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,N,k),e.$i=!0),k},k.locale=E,k.isDayjs=y,k.unix=function(e){return k(1e3*e)},k.en=g[h],k.Ls=g,k.p={},k}))},"5d51":function(e,t,n){"use strict";n("d3b7"),n("d9e2");var r=n("7a23"),c={ref:"confirmModal",class:"modal fade",id:"confirmModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1"},a={class:"modal-dialog modal-dialog-centered"},o={class:"modal-content"},i={class:"modal-header"},s={class:"modal-title",id:"confirmModalLabel"},l={class:"modal-body d-flex"},u=Object(r["createElementVNode"])("i",{class:"material-icons text-danger me-2"},"error",-1),d={class:"modal-footer"};function f(e,t,n,f,b,m){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("h5",s,Object(r["toDisplayString"])(n.title),1),Object(r["createElementVNode"])("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=function(){return f.cancel&&f.cancel.apply(f,arguments)})})]),Object(r["createElementVNode"])("div",l,[u,Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(n.text),1)]),Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=function(){return f.cancel&&f.cancel.apply(f,arguments)})}," 取消 "),Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return f.submit&&f.submit.apply(f,arguments)})}," 確認 ")])])])],512)}var b=n("806c"),m={name:"GoConfirm",props:{title:{type:String,default:"溫馨提示"},text:{type:String,default:""},cancelCallback:{type:Function},submitCallback:{type:Function}},setup:function(e){var t=Object(r["ref"])(null),n=Object(b["a"])(t),c=n.openModal,a=n.closeModal;Object(r["onMounted"])((function(){return c()}));var o=function(){a(),e.cancelCallback()},i=function(){a(),e.submitCallback()};return{confirmModal:t,submit:i,cancel:o}}},p=n("d959"),O=n.n(p);const j=O()(m,[["render",f]]);var v=j,h=document.createElement("div");h.setAttribute("class","go-confirm-container"),document.body.appendChild(h);t["a"]=function(e){var t=e.title,n=e.text;return new Promise((function(e,c){var a=function(){Object(r["render"])(null,h),c(new Error("點擊取消"))},o=function(){Object(r["render"])(null,h),e()},i=Object(r["createVNode"])(v,{title:t,text:n,cancelCallback:a,submitCallback:o});Object(r["render"])(i,h)}))}},7156:function(e,t,n){var r=n("1626"),c=n("861d"),a=n("d2bb");e.exports=function(e,t,n){var o,i;return a&&r(o=t.constructor)&&o!==n&&c(i=o.prototype)&&i!==n.prototype&&a(e,i),e}},"81e6":function(e,t,n){"use strict";n("fdbb")},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},ab36:function(e,t,n){var r=n("861d"),c=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&c(e,"cause",t.cause)}},b64b:function(e,t,n){var r=n("23e7"),c=n("7b0b"),a=n("df75"),o=n("d039"),i=o((function(){a(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return a(c(e))}})},b980:function(e,t,n){var r=n("d039"),c=n("5c6c");e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",c(1,7)),7!==e.stack)}))},ba45:function(e,t,n){},c725:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=function(e){return Object(r["pushScopeId"])("data-v-62ca2438"),e=e(),Object(r["popScopeId"])(),e},a={class:"flex-fill overflow-auto p-3",style:{position:"relative"}},o={class:"card p-2 shadow-sm",style:{"min-height":"200px"}},i={class:"card-body"},s={class:"d-flex justify-content-end align-items-center mb-3"},l=c((function(){return Object(r["createElementVNode"])("i",{class:"material-icons me-1"},"delete",-1)})),u=Object(r["createTextVNode"])(" 刪除全部訂單 "),d=[l,u],f=Object(r["createStaticVNode"])('<ul class="row g-0 list-unstyled rounded-0 p-2 order-list text-nowrap border-bottom border-2" data-v-62ca2438><li class="col-2" data-v-62ca2438>建立時間</li><li class="col-4" data-v-62ca2438>購買款項</li><li class="col-2" data-v-62ca2438>金額</li><li class="col-2" data-v-62ca2438>狀態</li><li class="col-2" data-v-62ca2438>操作</li></ul>',1),b={class:"list-group list-group-flush shadow-sm mb-4"},m={class:"col-2"},p={class:"col-4"},O={class:"list-unstyled"},j={class:"col-2"},v={key:0,class:"col-2 text-success"},h=c((function(){return Object(r["createElementVNode"])("span",null,"已付款",-1)})),g=[h],y={key:1,class:"col-2 text-danger"},E=c((function(){return Object(r["createElementVNode"])("span",null,"未付款",-1)})),k=[E],V={class:"col-2 d-flex justify-content-center"},N=["onClick"],x=["onClick"];function $(e,t,n,c,l,u){var h,E=Object(r["resolveComponent"])("HeaderAdmin"),$=Object(r["resolveComponent"])("Loading"),M=Object(r["resolveComponent"])("GoPagination"),D=Object(r["resolveComponent"])("OrderModal");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(E,{subTitle:"訂單管理"}),Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])($,{active:c.isLoading,"is-full-page":!1},null,8,["active"]),Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("button",{class:"btn btn-danger d-flex",type:"button",onClick:t[0]||(t[0]=function(){return c.removeAllOrders&&c.removeAllOrders.apply(c,arguments)})},d)]),f,Object(r["createElementVNode"])("ul",b,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.orders,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"list-group-item p-2",key:e.id},[Object(r["createElementVNode"])("div",m,Object(r["toDisplayString"])(c.dayjs.unix(e.create_at).format("YYYY-MM-DD HH:mm:ss")),1),Object(r["createElementVNode"])("div",p,[Object(r["createElementVNode"])("ul",O,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.products,(function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{key:t},Object(r["toDisplayString"])(e.product.title)+" 數量："+Object(r["toDisplayString"])(e.qty)+" "+Object(r["toDisplayString"])(e.product.unit),1)})),128))])]),Object(r["createElementVNode"])("div",j,"NT$"+Object(r["toDisplayString"])(e.total),1),e.is_paid?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",v,g)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",y,k)),Object(r["createElementVNode"])("div",V,[Object(r["createElementVNode"])("button",{class:"btn btn-sm btn-outline-primary fs-7",type:"button",onClick:function(t){return c.open(e)}}," 編輯 ",8,N),Object(r["createElementVNode"])("button",{class:"btn btn-sm btn-outline-danger fs-7 ms-2 ms-md-3",type:"button",onClick:function(t){return c.removeOrder(e.id)}}," 刪除 ",8,x)])])})),128))]),(null===(h=c.pagination)||void 0===h?void 0:h.total_pages)>1?(Object(r["openBlock"])(),Object(r["createBlock"])(M,{key:0,pages:c.pagination,onChangePage:c.changePager},null,8,["pages","onChangePage"])):Object(r["createCommentVNode"])("",!0)])])]),Object(r["createVNode"])(D,{ref:"orderModalCom",onUpdateList:c.updateOrderList},null,8,["onUpdateList"])],64)}var M=n("1da1"),D=(n("96cf"),n("1a10")),w={ref:"orderModal",class:"modal fade",id:"orderModal"},S={class:"modal-dialog modal-lg modal-dialog-centered"},C={key:0,class:"modal-content"},B={class:"modal-header bg-dark p-3 text-light"},_={class:"modal-title",id:"orderModalLabel"},T={class:"modal-body"},P={class:"nav rounded p-2 mb-3 d-flex align-items-center"},I=Object(r["createTextVNode"])(" 訂單狀態： "),U={key:0,class:"text-success"},L={key:1,class:"text-danger"},Y={class:"form-check ms-2"},H={class:"row g-3 d-md-flex"},A={class:"modal-footer"};function F(e,t,n,c,a,o){var i,s=Object(r["resolveComponent"])("UserInfo"),l=Object(r["resolveComponent"])("OrderDetail");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",w,[Object(r["createElementVNode"])("div",S,[null!==(i=c.order)&&void 0!==i&&i.id?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",C,[Object(r["createElementVNode"])("div",B,[Object(r["createElementVNode"])("h5",_," 訂單編號："+Object(r["toDisplayString"])(c.order.id),1),Object(r["createElementVNode"])("button",{type:"button",class:"btn-close btn-close-white",onClick:t[0]||(t[0]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})})]),Object(r["createElementVNode"])("div",T,[Object(r["createElementVNode"])("div",P,[Object(r["createElementVNode"])("div",null,[I,c.paidStatus?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",U,"已付款")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",L,"未付款"))]),Object(r["createElementVNode"])("div",Y,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",id:"flexCheckDefault","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.paidStatus=e}),onChange:t[2]||(t[2]=function(){return c.updatePaid&&c.updatePaid.apply(c,arguments)})},null,544),[[r["vModelCheckbox"],c.paidStatus]])])]),Object(r["createElementVNode"])("div",H,[Object(r["createVNode"])(s),Object(r["createVNode"])(l)])]),Object(r["createElementVNode"])("div",A,[Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=function(){return c.closeModal&&c.closeModal.apply(c,arguments)})}," 取消 "),Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=function(){return c.submit&&c.submit.apply(c,arguments)})}," 確認修改 ")])])):Object(r["createCommentVNode"])("",!0)])],512)}var W=n("806c"),R=(n("b0c0"),{class:"col-md-6"}),J={class:"fs-5 d-flex align-items-center mb-3"},z=Object(r["createTextVNode"])(" 訂購人資訊 "),Z={key:0},q={key:1},G={class:"list-unstyled"},Q={class:"d-flex align-items-center mb-2"},K=Object(r["createElementVNode"])("span",{class:"form-label m-0 col-4"},"建立時間：",-1),X={class:"d-flex align-items-center mb-1"},ee=Object(r["createElementVNode"])("label",{for:"email",class:"form-label m-0 col-4"},"Email：",-1),te=["disabled"],ne={class:"d-flex align-items-center mb-1"},re=Object(r["createElementVNode"])("label",{for:"name",class:"form-label m-0 col-4"},"收件人姓名：",-1),ce=["disabled"],ae={class:"d-flex align-items-center mb-1"},oe=Object(r["createElementVNode"])("label",{for:"tel",class:"form-label m-0 col-4"},"聯絡電話：",-1),ie=["disabled"],se={class:"d-flex align-items-center mb-1"},le=Object(r["createElementVNode"])("label",{for:"address",class:"form-label m-0 col-4"},"收件地址：",-1),ue=["disabled"],de={class:"d-flex align-items-start mb-1"},fe=Object(r["createElementVNode"])("label",{for:"message",class:"form-label m-0 col-4"},"備註",-1),be=["disabled"];function me(e,t,n,c,a,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",R,[Object(r["createElementVNode"])("h3",J,[z,Object(r["createElementVNode"])("button",{type:"button",class:Object(r["normalizeClass"])(["btn btn-sm ms-2",c.isEditInfo?"btn-danger":"btn-primary"]),onClick:t[0]||(t[0]=function(){return c.edit&&c.edit.apply(c,arguments)})},[c.isEditInfo?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",q,"完成")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Z,"修改"))],2)]),Object(r["createElementVNode"])("ul",G,[Object(r["createElementVNode"])("li",Q,[K,Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(c.dayjs.unix(c.order.create_at).format("YYYY-MM-DD HH:mm:ss")),1)]),Object(r["createElementVNode"])("li",X,[ee,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"email",id:"email",class:"form-control form-control-sm","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.user.email=e}),disabled:!c.isEditInfo},null,8,te),[[r["vModelText"],c.user.email]])]),Object(r["createElementVNode"])("li",ne,[re,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",id:"name",class:"form-control form-control-sm","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.user.name=e}),disabled:!c.isEditInfo},null,8,ce),[[r["vModelText"],c.user.name]])]),Object(r["createElementVNode"])("li",ae,[oe,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",id:"tel",class:"form-control form-control-sm","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.user.tel=e}),disabled:!c.isEditInfo},null,8,ie),[[r["vModelText"],c.user.tel]])]),Object(r["createElementVNode"])("li",se,[le,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"text",id:"address",class:"form-control form-control-sm","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.user.address=e}),disabled:!c.isEditInfo},null,8,ue),[[r["vModelText"],c.user.address]])]),Object(r["createElementVNode"])("li",de,[fe,Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{id:"message",class:"form-control",row:"3",placeholder:"無","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.message=e}),disabled:!c.isEditInfo},null,8,be),[[r["vModelText"],c.message]])])])])}var pe=n("5530"),Oe=n("5a0c"),je=n.n(Oe),ve={name:"UserInfo",setup:function(){var e=Object(r["ref"])(!1),t=Object(r["ref"])(null),n=Object(r["ref"])(null),c=Object(r["inject"])("tempOrder"),a=Object(r["inject"])("updateTempUser"),o=a.updateTempUser,i=Object(r["inject"])("updateMessage"),s=i.updateMessage;Object(r["watch"])((function(){return c}),(function(){var e;t.value=Object(pe["a"])({},c.value.user),n.value=null!==(e=c.value.message)&&void 0!==e?e:""}),{immediate:!0,deep:!0});var l=function(){e.value=!e.value,e.value||(o(t.value),s(n.value))};return{isEditInfo:e,user:t,message:n,order:c,dayjs:je.a,edit:l}}},he=n("d959"),ge=n.n(he);const ye=ge()(ve,[["render",me]]);var Ee=ye,ke=(n("b64b"),function(e){return Object(r["pushScopeId"])("data-v-c552dfb6"),e=e(),Object(r["popScopeId"])(),e}),Ve={class:"col-md-6"},Ne={class:"d-flex align-items-center mb-3"},xe=ke((function(){return Object(r["createElementVNode"])("h3",{class:"fs-5 m-0"},"購買產品內容",-1)})),$e={key:0,class:"text-danger ms-auto"},Me={class:"d-flex justify-content-between align-items-center border rounded p-2 my-2"},De={class:"m-0"},we={class:"m-0"},Se=Object(r["createTextVNode"])(" 訂單金額： "),Ce={class:"fs-5 fw-bold text-danger"},Be={class:"list-unstyled mt-3"},_e={class:"col-5 img-box me-2"},Te=["src"],Pe={class:"col-4 d-flex flex-column justify-content-center"},Ie={class:"m-0"},Ue={class:"col-3 d-flex align-items-center text-nowrap"},Le=Object(r["createTextVNode"])(" 數量：");function Ye(e,t,n,c,a,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ve,[Object(r["createElementVNode"])("div",Ne,[xe,c.order.code?(Object(r["openBlock"])(),Object(r["createElementBlock"])("small",$e,"優惠碼："+Object(r["toDisplayString"])(c.order.code),1)):Object(r["createCommentVNode"])("",!0)]),Object(r["createElementVNode"])("div",Me,[Object(r["createElementVNode"])("p",De,"品項："+Object(r["toDisplayString"])(Object.keys(c.order.products).length),1),Object(r["createElementVNode"])("p",we,[Se,Object(r["createElementVNode"])("span",Ce,Object(r["toDisplayString"])("$"+c.order.total),1)])]),Object(r["createElementVNode"])("ul",Be,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.order.products,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"row d-flex align-items-center justify-content-around mb-2",key:e},[Object(r["createElementVNode"])("div",_e,[Object(r["createElementVNode"])("img",{src:e.product.imageUrl},null,8,Te)]),Object(r["createElementVNode"])("div",Pe,[Object(r["createElementVNode"])("p",Ie,Object(r["toDisplayString"])(e.product.title),1),Object(r["createElementVNode"])("small",null,"NT$"+Object(r["toDisplayString"])(e.product.price),1)]),Object(r["createElementVNode"])("div",Ue,[Le,Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.qty),1)])])})),128))])])}var He={name:"OrderDetail",setup:function(){var e=Object(r["ref"])(!1),t=Object(r["inject"])("tempOrder");return{isEditProduct:e,order:t}}};n("1075");const Ae=ge()(He,[["render",Ye],["__scopeId","data-v-c552dfb6"]]);var Fe=Ae,We=n("f8b7"),Re=n("2f59"),Je={name:"OrderModal",components:{UserInfo:Ee,OrderDetail:Fe},emits:["update-list"],setup:function(e,t){var n=t.emit,c=Object(r["ref"])(null),a=Object(W["a"])(c),o=a.openModal,i=a.closeModal,s=Object(r["inject"])("tempOrder"),l=Object(r["inject"])("updatePaid"),u=l.updatePaid,d=Object(r["ref"])(!1);Object(r["watch"])((function(){return s}),(function(){d.value=s.value.is_paid}),{deep:!0});var f=function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(We["e"])(s.value);case 2:t=e.sent,t.success?(Object(Re["a"])({type:"success",text:t.message}),i(),n("update-list")):Object(Re["a"])({type:"error",text:t.message});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{orderModal:c,openModal:o,closeModal:i,order:s,paidStatus:d,updatePaid:u,submit:f}}};n("f610");const ze=ge()(Je,[["render",F],["__scopeId","data-v-74f69710"]]);var Ze=ze,qe=n("5d51"),Ge={name:"AdminOrders",components:{HeaderAdmin:D["a"],OrderModal:Ze},setup:function(){var e=Object(r["ref"])(!0),t=Object(r["ref"])(null),n=Object(r["ref"])(null),c=Object(r["ref"])(null),a=function(){var t=Object(M["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.value=!0,t.next=3,Object(We["d"])(r);case 3:a=t.sent,n.value=a.orders,c.value=a.pagination,e.value=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();a();var o=function(){return a()},i=function(e){return a(e)},s=Object(r["ref"])({}),l=function(e){s.value=e,t.value.openModal()},u=function(){s.value.is_paid=!s.value.is_paid},d=function(e){s.value.user=e},f=function(e){s.value.message=e};Object(r["provide"])("tempOrder",Object(r["readonly"])(s)),Object(r["provide"])("updatePaid",{updatePaid:u}),Object(r["provide"])("updateTempUser",{updateTempUser:d}),Object(r["provide"])("updateMessage",{updateMessage:f});var b=function(e){Object(qe["a"])({title:"刪除訂單",text:"確定要刪除該筆訂單嗎"}).then((function(){Object(We["c"])(e).then((function(){Object(Re["a"])({type:"success",text:"已永久刪除該筆訂單"}),a()}))})).catch((function(e){}))},m=function(){Object(qe["a"])({title:"清空訂單列表",text:"確定要刪除所有訂單嗎"}).then((function(){Object(We["a"])().then((function(){Object(Re["a"])({type:"success",text:"已永久刪除所有訂單"}),a()}))})).catch((function(e){}))};return{orderModalCom:t,isLoading:e,updateOrderList:o,changePager:i,orders:n,dayjs:je.a,pagination:c,open:l,tempOrder:s,removeOrder:b,removeAllOrders:m}}};n("81e6");const Qe=ge()(Ge,[["render",$],["__scopeId","data-v-62ca2438"]]);t["default"]=Qe},c770:function(e,t,n){var r=n("e330"),c=r("".replace),a=function(e){return String(Error(e).stack)}("zxcasd"),o=/\n\s*at [^:]*:[^\n]*/,i=o.test(a);e.exports=function(e,t){if(i&&"string"==typeof e)while(t--)e=c(e,o,"");return e}},d9e2:function(e,t,n){var r=n("23e7"),c=n("da84"),a=n("2ba4"),o=n("e5cb"),i="WebAssembly",s=c[i],l=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=o(e,t,l),r({global:!0,forced:l},n)},d=function(e,t){if(s&&s[e]){var n={};n[e]=o(i+"."+e,t,l),r({target:i,stat:!0,forced:l},n)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},dbb4:function(e,t,n){var r=n("23e7"),c=n("83ab"),a=n("56ef"),o=n("fc6a"),i=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),c=i.f,l=a(r),u={},d=0;while(l.length>d)n=c(r,t=l[d++]),void 0!==n&&s(u,t,n);return u}})},e391:function(e,t,n){var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e439:function(e,t,n){var r=n("23e7"),c=n("d039"),a=n("fc6a"),o=n("06cf").f,i=n("83ab"),s=c((function(){o(1)})),l=!i||s;r({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e5cb:function(e,t,n){"use strict";var r=n("d066"),c=n("1a2d"),a=n("9112"),o=n("3a9b"),i=n("d2bb"),s=n("e893"),l=n("7156"),u=n("e391"),d=n("ab36"),f=n("c770"),b=n("b980"),m=n("c430");e.exports=function(e,t,n,p){var O=p?2:1,j=e.split("."),v=j[j.length-1],h=r.apply(null,j);if(h){var g=h.prototype;if(!m&&c(g,"cause")&&delete g.cause,!n)return h;var y=r("Error"),E=t((function(e,t){var n=u(p?t:e,void 0),r=p?new h(e):new h;return void 0!==n&&a(r,"message",n),b&&a(r,"stack",f(r.stack,2)),this&&o(g,this)&&l(r,this,E),arguments.length>O&&d(r,arguments[O]),r}));if(E.prototype=g,"Error"!==v&&(i?i(E,y):s(E,y,{name:!0})),s(E,h),!m)try{g.name!==v&&a(g,"name",v),g.constructor=E}catch(k){}return E}}},f610:function(e,t,n){"use strict";n("ba45")},f8b7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));n("99af");var r=n("b775"),c="".concat("sheep-api"),a=function(e){return Object(r["a"])("/api/".concat(c,"/order"),"post",{data:e})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(r["a"])("/api/".concat(c,"/admin/orders?page=").concat(e),"get")},i=function(e){return Object(r["a"])("/api/".concat(c,"/admin/order/").concat(e.id),"put",{data:e})},s=function(e){return Object(r["a"])("/api/".concat(c,"/admin/order/").concat(e),"delete")},l=function(){return Object(r["a"])("/api/".concat(c,"/admin/orders/all"),"delete")}},fdbb:function(e,t,n){}}]);
//# sourceMappingURL=chunk-59c5c8d8.05446d95.js.map